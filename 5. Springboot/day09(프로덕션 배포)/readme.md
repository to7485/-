# 프로덕션 배포
- 현재 우리의 프로젝트는 로컬호스트에서만 실행을 시켰다.
- 다른 사람들이 24시간 사용하기 위해서는 하루 종일 실행시켜줄 서버가 필요하다.
- 우리 컴퓨터를 절대 끄지 않고 애플리케이션 서버로만 가동시킨다면 서버로 사용할 수도 있다.
- 하지만 우리는 웹 서핑, 게임, 문서 작성 등 다양한 용도로 컴퓨터를 사용한다.
- 따라서 서버로 사용하기에는 적합하지 않다
- 하지만 서버 전용 컴퓨터는 100만원 이상이다.
- 또는 서버를 빌려주는 회사에 의탁해 매달 비용을 지불한다면 한달에 몇 십만원은 사용해야 한다.
- 적어도 한 개의 애플리케이션 서버와 한 개의 데이터베이스 서버가 필요하다.
- 서버 이외에도 네트워크 관련 장비와 구축비용, 또 이를 구축하고 운영하기 위한 인건비를 포함하면 애플리케이션을 서비스 하는데 자본이 적지 않게 필요하다.
- 클라우드 컴퓨팅 서비스를 이용하면 이렇게 서비스를 구축하고 운영하기 위한 비용을 절약할 수 있다.

# 클라우드 컴퓨팅 서비스란?

- 클라우드 컴퓨팅은 인터넷을 통해 서버, 저장 공간, 데이터베이스, 네트워크, 소프트웨어 등을 제공하는 서비스다.
- 예전에는 컴퓨터에 필요한 프로그램이나 파일을 직접 설치하고 저장해야 했지만, 이제는 클라우드를 통해 인터넷만 있으면 언제 어디서나 데이터를 저장하거나 프로그램을 사용할 수 있다.

## 클라우드 컴퓨팅 서비스의 종류

1. **IaaS (Infrastructure as a Service)**  
   **IaaS**는 서버, 네트워크, 저장 공간 같은 기본적인 컴퓨터 자원을 인터넷을 통해 빌려주는 서비스다. 
   예시: **AWS(아마존 웹 서비스)**, **Google Cloud**  
   - 사용자가 필요한 서버를 빌리고 그 위에 운영체제를 설치하거나 설정할 수 있다.
   - 서버를 물리적으로 사지 않고 빌려서 사용하므로 비용이 절감된다.

2. **PaaS (Platform as a Service)**  
   **PaaS**는 애플리케이션을 만들고 배포할 수 있는 플랫폼을 제공하는 서비스입니다.  
   예시: **Heroku**, **Google App Engine**  
   - 개발자가 애플리케이션을 쉽게 개발하고 배포할 수 있도록 도와줌
   - 서버 설정, 네트워크 관리 등을 신경 쓰지 않고 개발에만 집중할 수 있다.

3. **SaaS (Software as a Service)**  
   **SaaS**는 인터넷을 통해 소프트웨어를 제공하는 서비스입니다.  
   예시: **Google Docs**, **Dropbox**, **Slack**  
   - 소프트웨어를 다운로드하지 않고, 웹 브라우저를 통해 바로 사용 가능
   - 예를 들어, 구글 드라이브에 파일을 저장하고 언제 어디서나 열어볼 수 있다.

### 클라우드 컴퓨팅 서비스의 장점

- **비용 절감**: 필요한 만큼만 자원을 빌려 쓸 수 있기 때문에 물리적인 장비를 사지 않아도 된다.
- **확장성**: 사용량에 따라 자원을 쉽게 늘리거나 줄일 수 있다.
- **접근성**: 인터넷만 있으면 언제 어디서든 데이터를 저장하고 프로그램을 사용할 수 있다.
- **안전성**: 클라우드는 데이터를 안전하게 보관하고 백업해주는 기능이 있어 데이터를 잃어버릴 위험이 줄어든다.

### 클라우드 컴퓨팅 서비스가 중요한 이유

- 데이터를 클라우드에 저장하면, 컴퓨터나 스마트폰에 문제가 생겨도 데이터를 잃어버리지 않다.
- 기업들은 더 많은 컴퓨터와 서버를 직접 관리할 필요 없이 클라우드를 통해 손쉽게 자원을 관리할 수 있다.
- 언제 어디서나 파일에 접근하고 작업할 수 있어 더 효율적으로 일할 수 있다.

## 실습 주의점
- AWS 계정을 생성하면 1년간 Free-Tier 사용권이 주어진다.
- 특정 리소스에 한해 무료로 사용할 수 있다.
- 우리가 무료로 사용할 리소스는 EC2와 S3이다.
- Free-Tier로 EC2를 가동하면 한달에 대략 2~3만원이 든다.
- localhost나 ip가 아닌 도메인을 살 때 2~3만원이 든다.
- DNS레코드 사용비용 (5~6천원)
- 로드 밸런서 비용 약 2만원/달을 지불해야 한다.
- 이는 서버를 한달 내내 운영했을 때의 비용이다.
- 실제로 테스팅만 하는 데는 도메인 비용과 DNS비용, 로드 밸런서 비용을 함해 2~3만원이 채 들지 않는다.
- 또 도메인과 DNS레코드 사용은 필수가 아니다.
- 실습 후 반드시 AWS의 모든 리소스를 삭제하고 정리해야 한다.
- 그렇지 않으면 사용하지 않았음에도 비용을 지불해야 할 수 있다.

## 서비스 아키텍처
- 서비스를 배포하기에 앞서, 프로덕션 환경을 어떻게 구성할지 생각을 해봐야 한다.

![img](img/서비스구조.jpg)

### 프로덕션 과정
1. 누군가 우리 서비스의 프론트엔드 주소(app.fsoftwareengineer.com)을 브라우저에 치고 들어온다.
2. 프론트엔드 서버에 연결된 애플리케이션 로드 밸런서를 거쳐 로드 밸런서에 연결된 오토 스케일링 그룹 내의 EC2 인스턴스 중 하나에 트래픽이 전달된다.
3. EC2 인스턴스 내부에서 실행 중인 우리 프론트엔드 애플리케이션이 브라우저에서 동작할 리액트.js 애플리케이션을 반환한다.
