# Context API
- 만약 컴포넌트가 아니라 전역적으로 상태를 관리하려면 어떻게 해야할까?
- Context API는 데이터를 전역적으로 관리하고 사용할 수 있도록 하는 기능이다.

### 프로젝트 생성하기
```js
expo init react-native-context
```
- styled-components 설치하기
```js
npm install styled-components --force
```
- src폴더를 생성하고 App컴포넌트를 작성한다.
```js
import React from 'react'
import styled from 'styled-components'

const Container = styled.View`
    flex : 1;
    background-color : #ffffff;
    justify-content : center;
    align-items : center;
`;

const App = () => {
    return <Container></Container>
}

export default App;
```
- 루트 디렉터리에 있는 App.js파일에서 src폴더의 App.js컴포넌트를 사용하도록 수정한다.
```js
import App from "./src/App";

export default App;
```

## 전역 상태 관리
- 일반적인 리액트 네이티브 애플리케이션의 경우 데이터는 부모 컴포넌트에서 자식 컴포넌트로 전달된다.
- 만약 데이터를 사용하는 컴포넌트가 많다면, 최상위 컴포넌트인 App 컴포넌트에서 상태를 관리하여 하위 컴포넌트 어디서 필요로 하든 전달할 수 있게 해야한다.
- 예를 들어, 어떤 데이터를 App 컴포넌트에서 관리하고 하위 컴포넌트 중 몇 개의 컴포넌트에서 데이터를 사용한다면, App 컴포넌트로부터 데이터를 필요로 하는 컴포넌트까지 props를 통해 값을 전달해서 사용할 수 있다.
- 하지만 props를 이용하여 데이터를 전달하는 방법은 상당히 번거롭다.

### 1. Props Drilling 문제
- `개념`: Props Drilling은 데이터를 최하위 자식 컴포넌트에 전달하기 위해 여러 단계의 중간 컴포넌트들을 거쳐야 하는 상황을 의미한다.
- `문제점`: 계층이 깊어지면, 특정 데이터를 사용하지 않는 중간 컴포넌트들도 props를 받아야 하고, 이를 다시 자식 컴포넌트로 전달해야 한다. 이로 인해 코드가 복잡해지고 가독성이 떨어지며, 유지보수가 어려워진다.
- `예시`: 최상위 컴포넌트에서 깊숙이 위치한 자식 컴포넌트로 데이터를 전달하려면 모든 중간 컴포넌트가 해당 props를 받아 전달해야 한다. 이는 코드를 장황하게 만들고, 중간 컴포넌트들이 불필요하게 props를 다루게 한다.

### 2. 재사용성과 독립성이 떨어짐
- `개념`: 컴포넌트가 특정 데이터와 강하게 결합되면, 해당 컴포넌트를 다른 곳에서 재사용하기가 어려워진다.
- `문제점`: 계층이 깊어질수록 특정 데이터와 의존 관계가 강해지는 경향이 있어, 개별 컴포넌트를 독립적으로 사용하거나 테스트하는 것이 어려워질 수 있다.
- `결과`: 데이터 전달에 의존적인 컴포넌트는 다른 컨텍스트에서 재사용할 때 데이터 구조를 맞추어야 하는 번거로움이 생기며, 이는 코드의 유연성을 저해한다.

### 3. 상태 관리와 동기화의 어려움
- `개념`: 상태가 상위 컴포넌트에 위치한 경우, 자식 컴포넌트에서 상태를 변경하려면 최상위 컴포넌트로 다시 값을 전달해 상태를 변경해야 한다.
- `문제점`: 컴포넌트 계층이 깊을수록 상태 업데이트 과정이 복잡해진다. 상위 컴포넌트에서 상태를 관리하고 이를 여러 단계의 자식 컴포넌트로 전달하는 과정에서 버그가 발생할 가능성이 높아진다.
- `예시`: 자식 컴포넌트에서 이벤트가 발생하여 상태를 변경해야 할 때, 상위 컴포넌트로 이벤트를 전달하고, 상태가 변경된 후 다시 자식 컴포넌트로 전달되어야 하므로 코드가 복잡하고 비효율적이 된다.

### 4. 불필요한 리렌더링
- 개념: 상위 컴포넌트의 상태가 변경되면, 해당 상태를 전달받는 모든 하위 컴포넌트가 리렌더링된다.
- 문제점: 계층이 깊어지면, 상태를 직접적으로 사용하지 않는 중간 컴포넌트까지 리렌더링될 수 있다. 이로 인해 성능이 저하되고, 애플리케이션이 느려질 수 있다.
- 결과: 최적화가 어려워지고, 불필요한 리렌더링을 줄이기 위해 코드에 여러 가지 조치가 필요해진다. 특히 큰 트리 구조의 컴포넌트에서 이 문제는 성능에 큰 영향을 줄 수 있다.

### 5. 유지보수와 코드 가독성 저하
- `개념`: 복잡한 계층 구조에서 props 전달 경로가 길어지면, 데이터가 어디에서 시작되고, 어떻게 흐르는지 추적하기 어려워진다.
- `문제점`: 데이터 흐름이 복잡해지면서 코드 가독성이 떨어지고, 유지보수하기 어려워진다. 특히 새로운 개발자가 프로젝트에 참여하거나 시간이 지나 코드의 컨텍스트를 잊게 되었을 때, 이 데이터 흐름을 이해하고 수정하는 데 많은 시간이 소요된다.
- `결과`: 데이터 전달 구조가 복잡할수록 예기치 않은 버그가 발생할 가능성이 높아지고, 코드가 복잡해지며 유지보수가 어려워진다.

## Context API
- 